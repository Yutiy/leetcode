---
title: 'ç®—æ³•å¤æ‚åº¦'
date: 2020-03-26
permalink: 'thinking/complex'
tag:
  - thinking
categories:
  - thinking
---

å¦‚ä½•è¡¨ç¤ºç®—æ³•å¤æ‚åº¦ï¼Œå…·ä½“æ¥è®²å°±æ˜¯ä»£ç æ‰§è¡Œçš„æ—¶é—´ã€æ‰§è¡Œæ¶ˆè€—çš„å­˜å‚¨ç©ºé—´ã€‚ä¾‹å¦‚:

```js
function cal(n) {
  let sum = 0; // 1 unit_time
  let i = 0; // 1 unit_time
  for (; i <= n; i++) {
    // n unit_time
    sum += i; // n unit_time
  }
  return sum;
}
```

ä» CPU çš„è§’åº¦çœ‹ï¼Œæ¯æ®µä»£ç å…¶å®å°±æ˜¯è¯»å†™æ•°æ®æˆ–æ“ä½œæ•°æ®ï¼Œå°½ç®¡æ¯æ¬¡æ“ä½œ CPU æ‰§è¡Œçš„ä¸ªæ•°ã€æ‰§è¡Œçš„æ—¶é—´éƒ½ä¸åŒï¼Œä½†å¯ä»¥ç²—ç•¥çš„æŠŠæ¯æ¬¡æ‰§è¡Œçš„æ—¶é—´çœ‹ä½œä¸€è‡´ï¼Œç§°ä¸º `unit_time`ã€‚

æ‰€ä»¥ä¸Šè¿°ä»£ç æ€»å…±æ‰§è¡Œ `(2n+2)*unit_time`, å³ `T(n) = (2n+2)*unit_time`ï¼Œæ‰€ä»¥å¯ä»¥å†™æˆ `T(n) = O(f(n))`ï¼Œå…¶ä¸­:

- n: è¡¨ç¤ºæ•°æ®è§„æ¨¡çš„å¤§å°
- f(n): è¡¨ç¤ºæ¯è¡Œä»£ç æ‰§è¡Œçš„æ¬¡æ•°æ€»å’Œ
- O: è¡¨ç¤ºä»£ç çš„æ‰§è¡Œæ—¶é—´ T(n) ä¸ f(n) è¡¨è¾¾å¼æˆæ­£æ¯”

å½“ n å¾ˆå¤§æ—¶ï¼Œ`T(n) = O(f(n))` å¯ä»¥è¡¨ç¤ºä¸º `T(n) = O(n)`ã€‚

è¿™å°±æ˜¯**å¤§ O æ—¶é—´å¤æ‚åº¦è¡¨ç¤ºæ³•ï¼Œå¤§ O æ—¶é—´å¤æ‚åº¦å®é™…ä¸Šå¹¶ä¸å…·ä½“ä»£ç ä»£ç çœŸæ­£çš„æ‰§è¡Œæ—¶é—´ï¼Œè€Œæ˜¯è¡¨ç¤ºä»£ç æ‰§è¡Œæ—¶é—´éšæ•°æ®è§„æ¨¡å¢é•¿çš„å˜åŒ–è¶‹åŠ¿**ï¼Œæ‰€ä»¥ä¹Ÿå«åš**æ¸è¿›æ—¶é—´å¤æ‚åº¦**ï¼Œç®€ç§°**æ—¶é—´å¤æ‚åº¦**ã€‚

## æ—¶é—´å¤æ‚åº¦

å½“ n æ— é™å¤§æ—¶ï¼Œæ—¶é—´å¤æ‚åº¦ `T(n)` å— n çš„æœ€é«˜æ•°é‡çº§å½±å“æœ€å¤§ï¼Œä¸ `f(n)` ä¸­çš„å¸¸é‡ã€ä½é˜¶ã€ç³»æ•°å…³ç³»ä¸å¤§ã€‚æ‰€ä»¥åˆ†æä»£ç çš„æ—¶é—´å¤æ‚åº¦æ—¶ï¼Œåªéœ€è¦å…³æ³¨ä»£ç æ‰§è¡Œæ¬¡æ•°æœ€å¤šçš„é‚£æ®µå°±è¡Œäº†ã€‚

ä¸¾ä¸ª ğŸŒ°:

```js
function fun1(n) {
  let sum = 0,
    i = 0;
  for (; i <= n; i++) {
    sum += i;
  }
  return sum;
}

function fun2(n) {
  let sum = 0,
    sum1 = 0,
    i = 0,
    j = 0;
  for (; i <= n; i++) {
    // å¾ªç¯1
    sum += i;
  }
  for (i = 0; i <= n; i++) {
    // å¾ªç¯2
    for (j = 0; j <= n; j++) {
      sum += i * j;
    }
  }
  return sum;
}
function fun3(n) {
  let sum = 0,
    i = 0;
  for (; i <= n; i++) {
    sum += fun(i);
  }
  return sum;
}
```

- `fun1` ä¸­ç¬¬ 1 è¡Œéƒ½æ˜¯å¸¸é‡ï¼Œå¯¹ n çš„å½±å“ä¸å¤§ï¼Œæ‰€ä»¥æ€»çš„æ—¶é—´å¤æ‚åº¦è¦çœ‹ç¬¬ 2ã€3 è¡Œçš„å¾ªç¯ï¼Œå³æ—¶é—´å¤æ‚åº¦ä¸ºï¼š O(n)
- `fun2` ä¸­å¾ªç¯ 1 çš„æ—¶é—´å¤æ‚åº¦ä¸º O(n) ï¼Œå¾ªç¯ 2 çš„æ—¶é—´å¤æ‚åº¦ä¸º O(n2)ï¼Œå½“ n è¶‹äºæ— ç©·å¤§æ—¶ï¼Œæ€»ä½“çš„æ—¶é—´å¤æ‚åº¦è¦è¶‹äº O(n2) ï¼Œå³ä¸Šé¢ä»£ç çš„æ—¶é—´å¤æ‚åº¦æ˜¯ O(n2)
- `fun3` çš„æ—¶é—´å¤æ‚åº¦æ˜¯ `O(n * T(fun)) = O(n*n)` ï¼Œå³ O(n2)

æ‰€ä»¥: `æ‰€ä»¥ï¼šT(c+n)=O(n)ï¼ŒT(m+n)=O(max(m, n))ï¼ŒT(n) = T1(n) T2(m) = O(nm)ï¼Œå…¶ä¸­ c ä¸ºå¸¸é‡`

## ç©ºé—´å¤æ‚åº¦

æ—¶é—´å¤æ‚åº¦è¡¨ç¤ºç®—æ³•çš„æ‰§è¡Œæ—¶é—´ä¸æ•°æ®è§„æ¨¡ä¹‹é—´çš„å¢é•¿å…³ç³»ã€‚ç±»æ¯”ä¸€ä¸‹ï¼Œç©ºé—´å¤æ‚åº¦è¡¨ç¤ºç®—æ³•çš„å­˜å‚¨ç©ºé—´ä¸æ•°æ®è§„æ¨¡ä¹‹é—´çš„å¢é•¿å…³ç³»ã€‚ä¾‹å¦‚ï¼š

```js
function fun(n) {
  let a = [];
  for (let i = 0; i < n; i++) {
    a.push(i);
  }
  return a;
}
```

ä»¥ä¸Šä»£ç æˆ‘ä»¬å¯ä»¥æ¸…æ™°çš„çœ‹å‡ºä»£ç æ‰§è¡Œçš„ç©ºé—´ä¸º O(1+n) = O(n)ï¼Œå³ä¸º i åŠæ•°ç»„ a å ç”¨çš„å‚¨å­˜ç©ºé—´

## å¹³å‡æ—¶é—´å¤æ‚åº¦

æ—¶é—´å¤æ‚åº¦å—æ•°æ®æœ¬èº«å½±å“ï¼Œè¿˜åˆ†ä¸ºï¼š

- æœ€å¥½æ—¶é—´å¤æ‚åº¦ï¼šåœ¨æœ€ç†æƒ³çš„æƒ…å†µä¸‹ï¼Œæ‰§è¡Œè¿™æ®µä»£ç çš„æ—¶é—´å¤æ‚åº¦
- æœ€åæ—¶é—´å¤æ‚åº¦ï¼šåœ¨æœ€ç³Ÿç³•çš„æƒ…å†µä¸‹ï¼Œæ‰§è¡Œè¿™æ®µä»£ç çš„æ—¶é—´å¤æ‚åº¦
- å¹³å‡æ—¶é—´å¤æ‚åº¦ï¼šæ‰€æœ‰æƒ…å†µä¸‹ï¼Œæ±‚ä¸€ä¸ªå¹³å‡å€¼ï¼Œå¯ä»¥çœç•¥æ‰ç³»æ•°ã€ä½é˜¶ã€å¸¸é‡
